(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-726e1dca"],{"542f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{margin:"20px 0px"}},[a("CategorySelect",{attrs:{show:!t.isShowTable},on:{getCategoryId:t.getCategoryId}})],1),a("el-card",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTable,expression:"isShowTable"}]},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",disabled:0==t.attrList.length},on:{click:function(e){t.isShowTable=!1}}},[t._v("添加属性")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.attrList}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"属性名称",width:"150"}}),a("el-table-column",{attrs:{label:"属性值列表"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return t._l(n.tags,(function(e,n){return a("el-tag",{key:n,staticStyle:{margin:"0px 10px"},attrs:{type:"success"}},[t._v(t._s(e))])}))}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,l=e.$index;return[a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return t.toEditCell(n)}}}),a("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{title:"确定删除"+n.title+"?"},on:{onConfirm:function(e){return t.removeCell(l)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini"},slot:"reference"})],1)]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowTable,expression:"!isShowTable"}]},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px",model:t.attrInfo}},[a("el-form-item",{attrs:{label:"属性名"}},[a("el-input",{attrs:{placeholder:"请输入属性名"},model:{value:t.attrInfo.title,callback:function(e){t.$set(t.attrInfo,"title",e)},expression:"attrInfo.title"}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",disabled:!t.attrInfo.title},on:{click:t.addAttr}},[t._v("添加属性值")]),a("el-table",{staticStyle:{width:"100%",margin:"20px 0px"},attrs:{border:"",data:t.tags}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"80"}}),a("el-table-column",{attrs:{label:"属性值名称"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,l=e.$index;return[n.flag?a("el-input",{ref:l,attrs:{placeholder:"请输入属性值名称"},on:{blur:function(e){return t.validata(n,l)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validate(n,l)}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"row.value"}}):a("div",{staticStyle:{height:"100%"},on:{click:function(e){return t.toEdit(n,l)}}},[t._v(" "+t._s(n.value)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,l=e.$index;return[a("el-popconfirm",{attrs:{title:"确定删除"+n.value+"?"},on:{onConfirm:function(e){return t.deleteAttrValue(l)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini"},slot:"reference"})],1)]}}])})],1),a("el-button",{attrs:{type:"primary",disabled:0==t.tags.length},on:{click:t.confrim}},[t._v("保存")]),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)])],1)},l=[],i=a("5530"),r=(a("498a"),a("d3b7"),a("d81d"),a("a434"),a("2f62")),o={data:function(){return{isShowTable:!0,attrInfo:{title:""},oldValue:"",tags:[]}},computed:Object(i["a"])({},Object(r["d"])({attrList:function(t){return t.attrs.list}})),methods:Object(i["a"])(Object(i["a"])({},Object(r["b"])({getData:"attrs/getData"})),{},{confrim:function(){this.isShowTable=!1,Object.assign(this.$data,this.$options.data())},cancel:function(){this.isShowTable=!1,Object.assign(this.$data,this.$options.data())},isRepeat:function(t,e){return""==t.trim()||this.tags.some((function(a,n){if(n!==e)return t===a.value}))},validata:function(t,e){var a=t.value;this.isRepeat(a,e)?this.$message("请你输入一个正常的属性值"):t.flag=!1},toEditCell:function(t){this.isShowTable=!1;var e=t.tags.map((function(t){return{value:t,flag:!1}}));this.tags=e},toEdit:function(t,e){var a=this;t.flag=!0,this.$nextTick((function(){a.$refs[e].focus()}))},addAttr:function(){var t=this,e=this.attrInfo.title;this.isRepeat(e)?this.$message("请你输入一个正常的属性值"):(this.tags.push({value:e,flag:!0}),this.$nextTick((function(){t.attrInfo.title="",t.$refs[t.tags.length-1].focus()})))},removeCell:function(t){this.attrList.splice(t,1),this.$message({type:"success",message:"已删除"})},deleteAttrValue:function(t){this.tags.splice(t,1),this.$message({type:"success",message:"已删除"})},getCategoryId:function(t){var e=t.categoryId,a=t.level;this.getData({categoryId:e,level:a})}})},s=o,c=a("2877"),u=Object(c["a"])(s,n,l,!1,null,null,null);e["default"]=u.exports},a434:function(t,e,a){"use strict";var n=a("23e7"),l=a("da84"),i=a("23cb"),r=a("5926"),o=a("07fa"),s=a("7b0b"),c=a("65f0"),u=a("8418"),d=a("1dde"),f=d("splice"),h=l.TypeError,p=Math.max,b=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var a,n,l,d,f,v,w=s(this),y=o(w),x=i(t,y),k=arguments.length;if(0===k?a=n=0:1===k?(a=0,n=y-x):(a=k-2,n=b(p(r(e),0),y-x)),y+a-n>g)throw h(m);for(l=c(w,n),d=0;d<n;d++)f=x+d,f in w&&u(l,d,w[f]);if(l.length=n,a<n){for(d=x;d<y-n;d++)f=d+n,v=d+a,f in w?w[v]=w[f]:delete w[v];for(d=y;d>y-n+a;d--)delete w[d-1]}else if(a>n)for(d=y-n;d>x;d--)f=d+n-1,v=d+a-1,f in w?w[v]=w[f]:delete w[v];for(d=0;d<a;d++)w[d+x]=arguments[d+2];return w.length=y-n+a,l}})}}]);