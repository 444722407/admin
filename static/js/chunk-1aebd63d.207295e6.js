(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1aebd63d"],{"0fd3":function(t,e,a){},"1d33":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{staticStyle:{margin:"10px 0px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.showForm}},[t._v(" 添加 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.list}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"tmName",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{prop:"logoUrl",label:"品牌LOGO",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.logoUrl,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"prop",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row,o=e.$index;return[a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return t.updateTradeMark(r,o)}}},[t._v("修改")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.deleteTradeMark(r,o)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{background:"","page-sizes":[1,2,3,4,5],"current-page":t.page,total:t.total,"page-size":t.limit,"pager-count":7,layout:"prev, pager, next, jumper,->,sizes,total,slot"},on:{"current-change":t.getPageList,"size-change":t.handleSizeChange}},[a("span",[t._v("chenyao")])]),a("el-dialog",{attrs:{title:t.isUpdate?"修改品牌":"添加品牌",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",staticStyle:{width:"80%"},attrs:{model:t.tmForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"tmName","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入名称"},model:{value:t.tmForm.tmName,callback:function(e){t.$set(t.tmForm,"tmName",e)},expression:"tmForm.tmName"}})],1),a("el-form-item",{attrs:{label:"品牌LOGO","label-width":"100px",prop:"logoUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"before-upload":t.beforeAvatarUpload,"on-change":t.changeFileImage,limit:1}},[t.tmForm.logoUrl?a("img",{staticClass:"avatar",attrs:{src:t.tmForm.logoUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传jpg/png文件，且不超过500kb ")])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelForm}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmForm}},[t._v("确 定")])],1)],1)],1)},o=[],i=a("2909"),l=a("1da1"),n=a("5530"),s=(a("96cf"),a("d9e2"),a("99af"),a("a434"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("2f62")),c={data:function(){var t=function(t,e,a){e.length<2||e.length>10?a(new Error("品牌名称2-10位")):a()};return{index:-1,isUpdate:!1,page:1,total:200,limit:10,dialogFormVisible:!1,tmForm:{tmName:"",logoUrl:""},rules:{tmName:[{required:!0,message:"请输入品牌名称",trigger:"blur"},{validator:t,trigger:"change"}],logoUrl:[{required:!0,message:"请选择品牌的图片"}]}}},mounted:function(){this["tardeMark/getData"]()},computed:Object(n["a"])({},Object(s["d"])({list:function(t){return t.tardeMark.list}})),methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])(["tardeMark/getData"])),{},{showForm:function(){this.dialogFormVisible=!0,this.isUpdate=!1,this.tmForm={tmName:"",logoUrl:""},this.$refs.ruleForm.resetFields()},cancelForm:function(){this.dialogFormVisible=!1},confirmForm:function(){var t=this;this.$refs.ruleForm.validate(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}t.dialogFormVisible=!1,t.$message({type:"success",message:t.isUpdate?"添加品牌成功":"修改品牌成功"}),r={tmName:t.tmForm.tmName,logoUrl:t.tmForm.logoUrl},t.isUpdate?t.list.splice(t.index,1,r):t.list=[].concat(Object(i["a"])(t.list),[r]),e.next=9;break;case 7:return console.log("error submit!!"),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},changeFileImage:function(t){this.tmForm.logoUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},getPageList:function(t){console.log(t),this.list=[{tmName:"王小虎",logoUrl:"https://img0.baidu.com/it/u=3979661563,1948755913&fm=253&fmt=auto&app=138&f=JPEG?w=658&h=329"}]},handleSizeChange:function(t){console.log(t),this.list=[{tmName:"王小虎",logoUrl:"https://img0.baidu.com/it/u=3979661563,1948755913&fm=253&fmt=auto&app=138&f=JPEG?w=658&h=329"}]},updateTradeMark:function(t,e){this.index=e,this.isUpdate=!0,this.dialogFormVisible=!0,this.tmForm=Object(n["a"])({},t)},deleteTradeMark:function(t,e){var a=this;this.$confirm("你确定删除".concat(t.tmName,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.list.splice(e,1),a.$message({type:"success",message:"已删除"})})).catch((function(){a.$message({type:"error",message:"已取消"})}))}})},m=c,u=(a("f64b"),a("2877")),p=Object(u["a"])(m,r,o,!1,null,null,null);e["default"]=p.exports},f64b:function(t,e,a){"use strict";a("0fd3")}}]);